<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Shopping web</title>
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

</head>
<body>
    
    <div class="nav">
        <a href="/">首頁</a>
        <a href="/cart">購物車</a>
        <a href="/register">註冊</a>

        <% if (userid == undefined){ %>
        <a href="/login">登入</a>   
        <% } else { %>
        <a href="/logout">登出</a>
        <% } %>

        <a href="/test">ejs繼承</a>
    </div>
    
    <div class="container">
        <div class="row">
            <div class="col-sm">              
                <div class="card" style="width: 18rem;">
                    <img src="https://media.playstation.com/is/image/SCEA/black-friday-week-ps4-ps4pro-tw1119?$native_nt$" class="card-img-top" alt="...">
                    <div class="card-body">
                    <h5 class="card-title" id="Name-0">Ps4</h5>
                    <p class="card-text" id="Price-0">100</p>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="數量" id="Quantity-0">
                    </div>
                    <a href="#" class="btn btn-primary" onclick="addItemToCart(0)">加入</a>
                    </div>
                </div>
            </div>
            <div class="col-sm">
                <div class="card" style="width: 18rem;">
                    <img src="https://compass-ssl.xbox.com/assets/05/b0/05b01a46-58eb-4927-ad21-3c43b545ebaf.jpg?n=X1S-2019_Panes-2-Up-1084_111_570x400.jpg" class="card-img-top" alt="...">
                    <div class="card-body">
                    <h5 class="card-title" id="Name-1">Xbox</h5>
                    <p class="card-text" id="Price-1">200</p>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="數量" id="Quantity-1">
                    </div>
                    <a href="#" class="btn btn-primary" onclick="addItemToCart(1)">加入</a>
                    </div>
                </div>
            </div>
            <div class="col-sm">
                <div class="card" style="width: 18rem;">
                    <img src="https://www.nintendo.tw/hardware/switch/feature/img/01-hero/local-hero__model-pic.png" class="card-img-top" alt="...">
                    <div class="card-body">
                    <h5 class="card-title" id="Name-2">Switch</h5>
                    <p class="card-text" id="Price-2">300</p>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="數量" id="Quantity-2">
                    </div>
                    <a href="#" class="btn btn-primary" onclick="addItemToCart(2)">加入</a>
                    </div>
                </div>           
            </div>
        </div>
    </div>
<script>
    let productsId = 0

    function addItemToCart(productId){
        var productName = document.getElementById("Name-" + productId).textContent
        var productPrice = document.getElementById("Price-" + productId).textContent
        var productQuantity = document.getElementById("Quantity-" + productId).value

        let products = {
            Id : productsId,
            Name : productName,
            Price : productPrice,
            Quantity : productQuantity
        }
        
        localStorage.setItem('products-' + productsId, JSON.stringify(products))
        productsId ++
        console.log('add success', products)  
    }
</script>
</body>
</html>